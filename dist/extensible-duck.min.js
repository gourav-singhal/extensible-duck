!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Duck=r():t.Duck=r()}(this,function(){return function(e){var n={};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=n,o.d=function(t,r,e){o.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},o.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(r,"a",r),r},o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},o.p="",o(o.s=0)}([function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.constructLocalized=u,e.d(r,"constructLocalised",function(){return u}),e.d(r,"Selector",function(){return s});var n=function(){function n(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&n(t.prototype,r),e&&n(t,e),t}}(),i=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function b(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function h(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}function g(t,r){1==arguments.length&&(r=t[1],t=t[0]);for(var e={},n=0;n<t.length;n+=1)e[t[n]]=r[n];return e}function m(t){return null!==t&&"function"==typeof t}function c(t){return void 0===t||void 0===t}function p(t){return null!==(r=t)&&"object"===(void 0===r?"undefined":o(r))&&(t.constructor===Object||void 0===t.constructor);var r}function j(t){return i({},t,{consts:t.consts||{},sagas:t.sagas||function(){return{}},takes:t.takes||function(){return[]},creators:t.creators||function(){return{}},selectors:t.selectors||{},types:t.types||[]})}function S(t,r){return t instanceof Function?t(r):t}function u(t){var o=k(t);return function(e){var n={};return Object.keys(o).forEach(function(t){var r=o[t];n[t]=function(t){return r(function(t,r){var e=void 0;if(r.storePath){var n=[].concat(r.storePath.split("."),r.store);e=n.reduce(function(t,r){if(!t[r])throw Error("state does not contain reducer at storePath "+n.join("."));return t[r]},t)}else e=t[r.store];return e}(t,e),t)}}),n}}function k(e){var n={};return Object.keys(e).forEach(function(t){var r=e[t];n[t]=r instanceof s?function(){return(n[t]=r.extractFunction(n)).apply(void 0,arguments)}:r}),n}var a=function(){function d(t){var r=this;b(this,d);var e,n,o,i=t=j(t),c=i.namespace,u=i.store,a=i.storePath,s=i.types,f=i.consts,l=i.initialState,y=i.creators,h=i.selectors,p=i.sagas,v=i.takes;this.options=t,Object.keys(f).forEach(function(t){r[t]=g(f[t],f[t])}),this.store=u,this.storePath=a,this.types=(e=c,n=u,g(o=s,o.map(function(t){return e+"/"+n+"/"+t}))),this.initialState=m(l)?l(this):l,this.reducer=this.reducer.bind(this),this.selectors=k(S(h,this)),this.creators=y(this),this.sagas=p(this),this.takes=v(this)}return n(d,[{key:"reducer",value:function(t,r){return c(t)&&(t=this.initialState),this.options.reducer(t,r,this)}},{key:"extend",value:function(n){var r=this;m(n)&&(n=n(this)),n=j(n);var o=this.options,t=void 0;return t=m(n.initialState)?function(t){return n.initialState(t,r.initialState)}:c(n.initialState)?o.initialState:n.initialState,new d(i({},o,n,{initialState:t,consts:function t(r){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(!n.length)return r;var i,c=n.shift();if(Array.isArray(r))Array.isArray(c)?(i=r).push.apply(i,h(c)):r.push(c);else if(p(r)){if(!p(c))throw new Error("Cannot merge object with non-object");var u=!0,a=!1,s=void 0;try{for(var f,l=Object.keys(c)[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var y=f.value;r[y]?t(r[y],c[y]):r[y]=c[y]}}catch(t){a=!0,s=t}finally{try{!u&&l.return&&l.return()}finally{if(a)throw s}}}else r=c;return t.apply(void 0,[r].concat(n))}({},o.consts,n.consts),sagas:function(t){var r=o.sagas(t);return i({},r,n.sagas(t,r))},takes:function(t){var r=o.takes(t);return[].concat(h(r),h(n.takes(t,r)))},creators:function(t){var r=o.creators(t);return i({},r,n.creators(t,r))},selectors:function(t){return i({},S(o.selectors,t),S(n.selectors,t))},types:[].concat(h(o.types),h(n.types)),reducer:function(t,r,e){return t=o.reducer(t,r,e),c(n.reducer)?t:n.reducer(t,r,e)}}))}}]),d}();r.default=a;var s=function(){function r(t){b(this,r),this.func=t}return n(r,[{key:"extractFunction",value:function(t){return this.func(t)}}]),r}();a.Selector=s}])});
//# sourceMappingURL=extensible-duck.min.js.map
